# ğŸš€ Startup Sejong - í”„ë¡œì íŠ¸ ì„¤ì • ê°€ì´ë“œ

ì™„ì „í•œ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •ì„ ìœ„í•œ ë‹¨ê³„ë³„ ê°€ì´ë“œì…ë‹ˆë‹¤.

---

## ğŸ“‹ ëª©ì°¨

1. [ì‚¬ì „ ìš”êµ¬ì‚¬í•­](#ì‚¬ì „-ìš”êµ¬ì‚¬í•­)
2. [Supabase í”„ë¡œì íŠ¸ ë³µì›](#supabase-í”„ë¡œì íŠ¸-ë³µì›)
3. [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](#í™˜ê²½-ë³€ìˆ˜-ì„¤ì •)
4. [ë°ì´í„°ë² ì´ìŠ¤ ê²€ì¦](#ë°ì´í„°ë² ì´ìŠ¤-ê²€ì¦)
5. [ë¡œì»¬ ê°œë°œ ì„œë²„ ì‹¤í–‰](#ë¡œì»¬-ê°œë°œ-ì„œë²„-ì‹¤í–‰)
6. [Vercel ë°°í¬](#vercel-ë°°í¬)
7. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

---

## ğŸ”§ ì‚¬ì „ ìš”êµ¬ì‚¬í•­

### í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´

- **Node.js**: 18.x ì´ìƒ ([ë‹¤ìš´ë¡œë“œ](https://nodejs.org/))
- **npm**: Node.jsì™€ í•¨ê»˜ ì„¤ì¹˜ë¨
- **Git**: ë²„ì „ ê´€ë¦¬ ([ë‹¤ìš´ë¡œë“œ](https://git-scm.com/))

### í•„ìˆ˜ ê³„ì •

- **Supabase ê³„ì •**: [https://supabase.com](https://supabase.com)
- **Vercel ê³„ì •** (ë°°í¬ ì‹œ): [https://vercel.com](https://vercel.com)

---

## ğŸ”„ Supabase í”„ë¡œì íŠ¸ ë³µì›

### âš ï¸ í˜„ì¬ ìƒíƒœ

**í”„ë¡œì íŠ¸**: `startup-sejong` (ID: `ihgojwljhbdrfmqhlspb`)
**ìƒíƒœ**: **INACTIVE** âŒ
**ë¦¬ì „**: `ap-northeast-2` (ì„œìš¸)
**ë°ì´í„°ë² ì´ìŠ¤ ë²„ì „**: PostgreSQL 17.4.1

### ğŸ“ ë³µì› ë‹¨ê³„

#### Step 1: Supabase Dashboard ì ‘ì†

```
https://app.supabase.com
```

#### Step 2: ë¬´ë£Œ í”Œëœ í•œë„ í™•ì¸

**ë¬¸ì œ**: ë¬´ë£Œ í”Œëœì€ ìµœëŒ€ 2ê°œ í™œì„± í”„ë¡œì íŠ¸ê¹Œì§€ ì§€ì›í•©ë‹ˆë‹¤.
**í˜„ì¬**: ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë“¤ì´ ì´ë¯¸ í™œì„±í™”ë˜ì–´ ìˆì–´ ë³µì› ë¶ˆê°€

**í•´ê²° ë°©ë²• A - ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ì¼ì‹œì •ì§€**:
1. Dashboardì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”„ë¡œì íŠ¸ ì„ íƒ
2. **Settings** â†’ **General** â†’ ë§¨ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤
3. **Pause project** ë²„íŠ¼ í´ë¦­
4. í™•ì¸ í›„ ì¼ì‹œì •ì§€

**í•´ê²° ë°©ë²• B - ìœ ë£Œ í”Œëœ ì—…ê·¸ë ˆì´ë“œ**:
1. Dashboard â†’ **Billing** ë©”ë‰´
2. **Pro Plan** ì„ íƒ ($25/ì›”)
3. ë¬´ì œí•œ í”„ë¡œì íŠ¸ ì‚¬ìš© ê°€ëŠ¥

#### Step 3: startup-sejong í”„ë¡œì íŠ¸ ë³µì›

1. Dashboardì—ì„œ `startup-sejong` í”„ë¡œì íŠ¸ ì„ íƒ
2. **Settings** â†’ **General**
3. **Restore project** ë²„íŠ¼ í´ë¦­
4. ë³µì› í™•ì¸ (ì•½ 2-5ë¶„ ì†Œìš”)

#### Step 4: ë³µì› ìƒíƒœ í™•ì¸

í”„ë¡œì íŠ¸ ìƒíƒœê°€ **ACTIVE_HEALTHY** âœ…ë¡œ ë³€ê²½ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.

```
Dashboard â†’ Project â†’ Overview
Status: ACTIVE_HEALTHY âœ…
```

---

## ğŸ” í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### Step 1: í…œí”Œë¦¿ íŒŒì¼ ë³µì‚¬

```bash
cp .env.local.template .env.local
```

### Step 2: Supabase API Keys í™•ì¸

í”„ë¡œì íŠ¸ê°€ **ACTIVE** ìƒíƒœì¼ ë•Œ:

```
https://app.supabase.com/project/ihgojwljhbdrfmqhlspb/settings/api
```

#### ì´ë¯¸ ì…ë ¥ëœ ê°’ë“¤:

âœ… **Project URL**:
```
NEXT_PUBLIC_SUPABASE_URL=https://ihgojwljhbdrfmqhlspb.supabase.co
```

âœ… **Anon Key**:
```
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•´ì•¼ í•˜ëŠ” ê°’:

âš ï¸ **Service Role Key** (ë§¤ìš° ì¤‘ìš”!):
1. API Settings í˜ì´ì§€ì—ì„œ `service_role` ì„¹ì…˜ ì°¾ê¸°
2. **Reveal** ë²„íŠ¼ í´ë¦­
3. ì „ì²´ í‚¤ ë³µì‚¬
4. `.env.local` íŒŒì¼ì˜ `SUPABASE_SERVICE_ROLE_KEY`ì— ë¶™ì—¬ë„£ê¸°

**ì£¼ì˜**: Service Role KeyëŠ” RLS(Row Level Security)ë¥¼ ìš°íšŒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ **ì ˆëŒ€ í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œí•˜ì§€ ë§ˆì„¸ìš”!**

### Step 3: VAPID Keys ìƒì„± (Push ì•Œë¦¼ìš©)

#### Option A: Web Tool ì‚¬ìš© (ì¶”ì²œ)

```
https://web-push-codelab.glitch.me/
```

1. **Generate Keys** ë²„íŠ¼ í´ë¦­
2. Public Keyì™€ Private Key ë³µì‚¬
3. `.env.local` íŒŒì¼ì— ì…ë ¥:

```bash
NEXT_PUBLIC_VAPID_PUBLIC_KEY=<ë³µì‚¬í•œ Public Key>
VAPID_PRIVATE_KEY=<ë³µì‚¬í•œ Private Key>
VAPID_EMAIL=mailto:admin@sejong.ac.kr
```

#### Option B: CLI ì‚¬ìš©

```bash
npx web-push generate-vapid-keys
```

### Step 4: í™˜ê²½ ë³€ìˆ˜ í™•ì¸

`.env.local` íŒŒì¼ì´ ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤:

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://ihgojwljhbdrfmqhlspb.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGci...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGci... # âš ï¸ ë°˜ë“œì‹œ ì…ë ¥!

# VAPID
NEXT_PUBLIC_VAPID_PUBLIC_KEY=BK8V...
VAPID_PRIVATE_KEY=nT6z...
VAPID_EMAIL=mailto:admin@sejong.ac.kr
```

---

## âœ… ë°ì´í„°ë² ì´ìŠ¤ ê²€ì¦

í”„ë¡œì íŠ¸ê°€ **ACTIVE** ìƒíƒœê°€ ë˜ë©´ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

### í•„ìˆ˜ í…Œì´ë¸” ì¡´ì¬ í™•ì¸

```sql
-- Supabase SQL Editorì—ì„œ ì‹¤í–‰
SELECT table_name
FROM information_schema.tables
WHERE table_schema = 'public'
ORDER BY table_name;
```

**í•„ìˆ˜ í…Œì´ë¸”**:
- `announcements` - ê³µì§€ì‚¬í•­
- `calendar_events` - ìº˜ë¦°ë” ì´ë²¤íŠ¸
- `push_subscriptions` - í‘¸ì‹œ ì•Œë¦¼ êµ¬ë…
- `notifications` - ì•Œë¦¼ ê¸°ë¡
- `notification_delivery_log` - ì•Œë¦¼ ì „ì†¡ ë¡œê·¸
- `preliminary_applications` - ì˜ˆë¹„ì§€ì›ì„œ

### RLS (Row Level Security) ì •ì±… í™•ì¸

```
Dashboard â†’ Authentication â†’ Policies
```

ê° í…Œì´ë¸”ì— ì ì ˆí•œ RLS ì •ì±…ì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

---

## ğŸƒ ë¡œì»¬ ê°œë°œ ì„œë²„ ì‹¤í–‰

### Step 1: ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

### Step 2: ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

### Step 3: ë¸Œë¼ìš°ì € í™•ì¸

```
http://localhost:3000
```

### Step 4: Admin í˜ì´ì§€ ì ‘ê·¼

```
http://localhost:3000/admin/login
```

**ê¸°ë³¸ ê´€ë¦¬ì ê³„ì •** (Supabase Authì—ì„œ ìƒì„±):
- ì´ë©”ì¼: Supabase Dashboard â†’ Authentication â†’ Usersì—ì„œ ìƒì„±
- ë¹„ë°€ë²ˆí˜¸: ìƒì„± ì‹œ ì„¤ì •í•œ ë¹„ë°€ë²ˆí˜¸

---

## ğŸš€ Vercel ë°°í¬

### Step 1: Vercel í”„ë¡œì íŠ¸ ìƒì„±

```bash
# Vercel CLI ì„¤ì¹˜ (ì„ íƒ)
npm install -g vercel

# ë°°í¬
vercel
```

ë˜ëŠ” **Vercel Dashboard**ì—ì„œ:
1. **New Project** í´ë¦­
2. GitHub ì €ì¥ì†Œ ì—°ê²°
3. ìë™ ë°°í¬ ì„¤ì •

### Step 2: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```
Vercel Dashboard â†’ Project Settings â†’ Environment Variables
```

**ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€**:
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY` âš ï¸
- `NEXT_PUBLIC_VAPID_PUBLIC_KEY`
- `VAPID_PRIVATE_KEY` âš ï¸
- `VAPID_EMAIL`

**ì ìš© í™˜ê²½**:
- âœ… Production
- âœ… Preview
- âœ… Development (ì„ íƒ)

### Step 3: ì¬ë°°í¬

í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€ í›„:
```
Deployments â†’ Latest Deployment â†’ Redeploy
```

---

## ğŸ” ë¬¸ì œ í•´ê²°

### Issue 1: ë¹Œë“œ ì‹¤íŒ¨ - "Missing Supabase environment variables"

**ì›ì¸**: í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
1. `.env.local` íŒŒì¼ ì¡´ì¬ í™•ì¸
2. ëª¨ë“  í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ì…ë ¥ í™•ì¸
3. ê°œë°œ ì„œë²„ ì¬ì‹œì‘: `npm run dev`

### Issue 2: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° íƒ€ì„ì•„ì›ƒ

**ì›ì¸**: Supabase í”„ë¡œì íŠ¸ê°€ INACTIVE ìƒíƒœ

**í•´ê²°**:
1. Dashboardì—ì„œ í”„ë¡œì íŠ¸ ìƒíƒœ í™•ì¸
2. INACTIVEë©´ ë³µì› ì§„í–‰
3. ACTIVE ìƒíƒœê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸° (2-5ë¶„)

### Issue 3: Admin í˜ì´ì§€ ì ‘ê·¼ ë¶ˆê°€

**ì›ì¸**: ê´€ë¦¬ì ê³„ì •ì´ ìƒì„±ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
```
Dashboard â†’ Authentication â†’ Users â†’ Add user
```

1. ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
2. **Confirm email** ì²´í¬
3. ì‚¬ìš©ì ìƒì„±
4. `/admin/login`ì—ì„œ ë¡œê·¸ì¸

### Issue 4: Push ì•Œë¦¼ ì „ì†¡ ì‹¤íŒ¨

**ì›ì¸**: VAPID Keys ë¯¸ì„¤ì • ë˜ëŠ” Service Role Key ëˆ„ë½

**í•´ê²°**:
1. VAPID Keys ìƒì„± ë° í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í™•ì¸
2. `SUPABASE_SERVICE_ROLE_KEY` ì„¤ì • í™•ì¸
3. ê°œë°œ ì„œë²„ ì¬ì‹œì‘

### Issue 5: RLS Policy ì˜¤ë¥˜

**ì›ì¸**: Row Level Security ì •ì±…ìœ¼ë¡œ ë°ì´í„° ì ‘ê·¼ ê±°ë¶€

**í•´ê²°**:
1. Dashboard â†’ Table Editor â†’ í…Œì´ë¸” ì„ íƒ
2. **RLS Policies** íƒ­ í™•ì¸
3. í•„ìš”í•œ ì •ì±… ì¶”ê°€ ë˜ëŠ” ìˆ˜ì •

---

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

### ê³µì‹ ë¬¸ì„œ

- **Next.js**: https://nextjs.org/docs
- **Supabase**: https://supabase.com/docs
- **Vercel**: https://vercel.com/docs

### ì»¤ë®¤ë‹ˆí‹°

- **Supabase Discord**: https://discord.supabase.com
- **Next.js GitHub**: https://github.com/vercel/next.js

### í”„ë¡œì íŠ¸ ì •ë³´

- **í”„ë¡œì íŠ¸ ID**: `ihgojwljhbdrfmqhlspb`
- **ë¦¬ì „**: `ap-northeast-2` (ì„œìš¸)
- **Dashboard**: https://app.supabase.com/project/ihgojwljhbdrfmqhlspb

---

## ğŸ“ Support

ë¬¸ì œê°€ ê³„ì†ë˜ë©´ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

1. **ë¹Œë“œ ë¡œê·¸**: í„°ë¯¸ë„ ì¶œë ¥ í™•ì¸
2. **ë¸Œë¼ìš°ì € ì½˜ì†”**: F12 â†’ Console íƒ­
3. **Supabase Logs**: Dashboard â†’ Logs
4. **Network íƒ­**: API ìš”ì²­ ì‹¤íŒ¨ í™•ì¸

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-01-29
**ë²„ì „**: 1.0.0
